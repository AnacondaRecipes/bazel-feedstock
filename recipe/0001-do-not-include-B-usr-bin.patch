From 168bc685c0df5a197b85dc2028e9a2ea896827bb Mon Sep 17 00:00:00 2001
From: Jonathan Helmus <jjhelmus@gmail.com>
Date: Wed, 18 Oct 2017 17:49:16 -0500
Subject: [PATCH] do not include -B/usr/bin

---
 tools/cpp/unix_cc_configure.bzl | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/tools/cpp/unix_cc_configure.bzl b/tools/cpp/unix_cc_configure.bzl
index 14b0780..94f5f37 100644
--- a/tools/cpp/unix_cc_configure.bzl
+++ b/tools/cpp/unix_cc_configure.bzl
@@ -190,7 +190,7 @@ def _crosstool_content(repository_ctx, cc, cpu_value, darwin):
           ] if darwin else [
               "-B" + str(repository_ctx.path(cc).dirname),
               # Always have -B/usr/bin, see https://github.com/bazelbuild/bazel/issues/760.
-              "-B/usr/bin",
+              #"-B/usr/bin",
               # Gold linker only? Can we enable this by default?
               # "-Wl,--warn-execstack",
               # "-Wl,--detect-odr-violations"
@@ -223,7 +223,7 @@ def _crosstool_content(repository_ctx, cc, cpu_value, darwin):
       ] + (["-Wthread-safety", "-Wself-assign"] if darwin else [
           "-B" + escape_string(str(repository_ctx.path(cc).dirname)),
           # Always have -B/usr/bin, see https://github.com/bazelbuild/bazel/issues/760.
-          "-B/usr/bin",
+          #"-B/usr/bin",
       ]) + (
           # Disable problematic warnings.
           _add_option_if_supported(repository_ctx, cc, "-Wunused-but-set-parameter") +
-- 
2.11.1

