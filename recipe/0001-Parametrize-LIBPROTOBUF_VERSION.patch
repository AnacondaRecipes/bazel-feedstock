From 6c0c86eb969151e788c91a613425518f53beed5a Mon Sep 17 00:00:00 2001
From: "Uwe L. Korn" <uwe.korn@quantco.com>
Date: Thu, 28 Oct 2021 11:28:13 +0200
Subject: [PATCH] Parametrize LIBPROTOBUF_VERSION

---
 WORKSPACE | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

diff --git a/WORKSPACE b/WORKSPACE
index 39f6ea9..865ba8a 100755
--- a/WORKSPACE
+++ b/WORKSPACE
@@ -122,8 +122,8 @@ load("@rules_jvm_external//:defs.bzl", "maven_install")
 # TODO: Use installed protobuf version
 maven_install(
     artifacts = [
-        "com.google.protobuf:protobuf-java:3.15.6",
-        "com.google.protobuf:protobuf-java-util:3.15.6",
+        "com.google.protobuf:protobuf-java:LIBPROTOBUF_VERSION",
+        "com.google.protobuf:protobuf-java-util:LIBPROTOBUF_VERSION",
     ],
     repositories = [
         "https://repo1.maven.org/maven2",
@@ -195,7 +195,7 @@ distdir_tar(
         # bazelbuild/rules_proto
         "7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz",
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz",
+        "vLIBPROTOBUF_VERSION.tar.gz",
         # grpc/grpc
         "v1.33.1.tar.gz",
         # c-ares/c-ares
@@ -236,7 +236,7 @@ distdir_tar(
         # bazelbuild/rules_proto
         "7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz": "8e7d59a5b12b233be5652e3d29f42fba01c7cbab09f6b3a8d0a57ed6d1e9a0da",
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz": "9b4ee22c250fe31b16f1a24d61467e40780a3fbb9b91c3b65be2a376ed913a1a",
+        "vLIBPROTOBUF_VERSION.tar.gz": "9b4ee22c250fe31b16f1a24d61467e40780a3fbb9b91c3b65be2a376ed913a1a",
         # grpc/grpc
         "v1.33.1.tar.gz": "58eaee5c0f1bd0b92ebe1fa0606ec8f14798500620e7444726afcaf65041cb63",
         # c-ares/c-ares
@@ -316,9 +316,9 @@ distdir_tar(
             "https://github.com/bazelbuild/rules_proto/archive/7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz",
         ],
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz": [
-            "https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.13.0.tar.gz",
-            "https://github.com/protocolbuffers/protobuf/archive/v3.13.0.tar.gz",
+        "vLIBPROTOBUF_VERSION.tar.gz": [
+            "https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/vLIBPROTOBUF_VERSION.tar.gz",
+            "https://github.com/protocolbuffers/protobuf/archive/vLIBPROTOBUF_VERSION.tar.gz",
         ],
         # grpc/grpc
         "v1.33.1.tar.gz": [
@@ -613,7 +613,7 @@ distdir_tar(
         # bazelbuild/rules_proto
         "7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz",
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz",
+        "vLIBPROTOBUF_VERSION.tar.gz",
         # grpc/grpc
         "v1.33.1.tar.gz",
         # c-ares/c-ares
@@ -648,7 +648,7 @@ distdir_tar(
         # bazelbuild/rules_proto
         "7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz": "8e7d59a5b12b233be5652e3d29f42fba01c7cbab09f6b3a8d0a57ed6d1e9a0da",
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz": "9b4ee22c250fe31b16f1a24d61467e40780a3fbb9b91c3b65be2a376ed913a1a",
+        "vLIBPROTOBUF_VERSION.tar.gz": "9b4ee22c250fe31b16f1a24d61467e40780a3fbb9b91c3b65be2a376ed913a1a",
         # grpc/grpc
         "v1.33.1.tar.gz": "58eaee5c0f1bd0b92ebe1fa0606ec8f14798500620e7444726afcaf65041cb63",
         # c-ares/c-ares
@@ -699,9 +699,9 @@ distdir_tar(
             "https://github.com/bazelbuild/rules_proto/archive/7e4afce6fe62dbff0a4a03450143146f9f2d7488.tar.gz",
         ],
         # protocolbuffers/protobuf
-        "v3.13.0.tar.gz": [
-            "https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/v3.13.0.tar.gz",
-            "https://github.com/protocolbuffers/protobuf/archive/v3.13.0.tar.gz",
+        "vLIBPROTOBUF_VERSION.tar.gz": [
+            "https://mirror.bazel.build/github.com/protocolbuffers/protobuf/archive/vLIBPROTOBUF_VERSION.tar.gz",
+            "https://github.com/protocolbuffers/protobuf/archive/vLIBPROTOBUF_VERSION.tar.gz",
         ],
         # grpc/grpc
         "v1.33.1.tar.gz": [
-- 
2.30.1 (Apple Git-130)

